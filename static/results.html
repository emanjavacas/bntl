{% extends "template.html" %}

{% block title %}Results{% endblock %}

{% block content %}

{%- 
  set imgMap = {
    'ADVS': "cddvd",
    'BOOK': "boek",
    'CHAP': "artikelboek",
    'EJOUR': "artikelwebpage",
    'JFULL': "artikeltijdschrift",
    'JOUR': "tijdschriftofreeks",
    'WEB': "website"
} 
-%}

{%- 
  set screenNames = {
    'type_of_reference': "Publicatietype",
    'year': "Jaar",
    'authors': "Auteurs",
    'title': 'Titelbeschrijving',
    'keywords': 'Trefwoorden',
    'urls': 'URL'
  }
-%}

<div class="row">
    <div class="col">
        <h3 class="text-uppercase">ZOEKRESULTATEN</h3>
    </div>
<div class="row">
    <div class="col fw-light px-3 py-3 small">
        {{total}} Zoekresultaten voor...
    </div>
</div>

<div class="row">
  <div class="col">
    <nav class="navbar navbar-light py-0" style="background-color: #e3f2fd;">
      <div class="container-fluid">
        <span class="navbar-text small">
          Sorteer op 
        <div class="btn-group px-2" role="group" aria-label="Basic outlined example">
          <button type="button" class="btn btn-sm btn-outline-secondary">Auteur</button>
          <button type="button" class="btn btn-sm btn-outline-secondary">Jaar</button>
          <button type="button" class="btn btn-sm btn-outline-secondary">Relevantie</button>
        </div>
        </span>
        <span class="navbar-text small justify-content-end">Zoekresultaten per pagina
          <div class="btn-group px-2" role="group" aria-label="Basic outlined example">
            <button type="button" class="btn btn-sm btn-outline-secondary">10</button>
            <button type="button" class="btn btn-sm btn-outline-secondary">20</button>
            <button type="button" class="btn btn-sm btn-outline-secondary">50</button>
            <button type="button" class="btn btn-sm btn-outline-secondary">100</button>
          </div>
        </span>
      </div>
    </nav>
  </div>
</div>

<div class="row">
  <div class="col">
    <div class="accordion accordion-flush" id="searchItems">
      {% for item in items %}

      <div class="accordion-item">
        <h2 class="accordion-header" id="flush-heading-{{loop.index}}">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse-{{loop.index}}" aria-expanded="false" aria-controls="flush-collapse-{{loop.index}}">
            <span class="pe-2">{{loop.index}}.</span>
            <span class="px-2"><img src="static/assets/img/{{imgMap[item.type_of_reference]}}.png"></span>
            <span class="text-muted small pe-2">{{item.unknown_tag.AV[0]}}</span>
          </button>
        </h2>
        <div id="flush-collapse-{{loop.index}}" class="accordion-collapse collapse" aria-labelledby="flush-heading-{{loop.index}}" data-bs-parent="#searchItems">
          <div class="accordion-body">
            {% include "record.html" %}
          </div>
        </div>
      </div>
      {% endfor %}  
    </div>
  </div>
</div>

{% endblock %}